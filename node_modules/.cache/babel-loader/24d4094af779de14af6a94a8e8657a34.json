{"ast":null,"code":"import _regeneratorRuntime from\"/home/psycho/Documents/ineoQrCode/ineoqrcode/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/psycho/Documents/ineoQrCode/ineoqrcode/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _toConsumableArray from\"/home/psycho/Documents/ineoQrCode/ineoqrcode/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"/home/psycho/Documents/ineoQrCode/ineoqrcode/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{useContext}from'react';import{DataContext}from'../Context/DataContext';import'../App.css';var InputData=function InputData(props){var context=useContext(DataContext);var handleChange=function handleChange(e){if(e.target.name===\"data1\"){context.setData1(e.target.value);}if(e.target.name===\"data2\"){context.setData2(e.target.value);}if(e.target.name===\"data3\"){context.setData3(e.target.value);}};var findIndex=function findIndex(){if(props.index!==context.indexInput){context.setData1(\"\");context.setData2(\"\");context.setData3(\"\");}context.indexInput!==props.index&&context.setIndexInput(props.index);};var validData=function validData(){if(props.index===context.indexInput){if(context.result[context.indexInput]){context.setResult(context.result.map(function(datas){return context.result[context.indexInput]===datas?_objectSpread(_objectSpread({},datas),{},{data3:context.data3,data2:context.data2,data1:context.data1}):datas;}));}else{context.setResult([].concat(_toConsumableArray(context.result),[{\"data3\":context.data3,\"data2\":context.data2,\"data1\":context.data1}]));}}context.setData1(\"\");context.setData2(\"\");context.setData3(\"\");};var modifData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:context.setIndexInput(props.index);if(context.result[context.indexInput]){context.setData1(context.result[props.index].data1);context.setData2(context.result[props.index].data2);context.setData3(context.result[props.index].data3);}case 2:case\"end\":return _context.stop();}}},_callee);}));return function modifData(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{className:\"contain\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"separator\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"poteau num\\xE9ro \",props.index+1,\": \"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"inputs\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"inputSolo\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"chamber\",children:\"num\\xE9ro de chambre: \"}),/*#__PURE__*/_jsx(\"input\",{id:\"chamber\",name:\"data1\",type:\"text\",placeholder:\"\",value:context.indexInput===props.index?context.data1:\"\",onChange:handleChange,onClick:function onClick(){return findIndex();}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"inputSolo\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"insee\",children:\"code INSEE: \"}),/*#__PURE__*/_jsx(\"input\",{id:\"insee\",name:\"data2\",type:\"text\",placeholder:\"\",value:context.indexInput===props.index?context.data2:\"\",onChange:handleChange,onClick:function onClick(){return findIndex();}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"inputSolo\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"poteau\",children:\"num\\xE9ro poteau: \"}),/*#__PURE__*/_jsx(\"input\",{id:\"poteau\",name:\"data3\",type:\"text\",placeholder:\"\",value:context.indexInput===props.index?context.data3:\"\",onChange:handleChange,onClick:function onClick(){return findIndex();}})]}),/*#__PURE__*/_jsx(\"div\",{className:\"saveResults\",children:context.result[props.index]&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"donn\\xE9es sauvegard\\xE9es: \"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"num\\xE9ro de chambre: \",context.result[props.index].data1,\"  \"]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"code INSEE: \",context.result[props.index].data2,\"  \"]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"num\\xE9ro poteau: \",context.result[props.index].data3]})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"buttons\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return validData();},children:\"valider\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return modifData();},children:\"modifier\"})]})]})});};export default InputData;","map":{"version":3,"sources":["/home/psycho/Documents/ineoQrCode/ineoqrcode/src/Components/InputData.js"],"names":["React","useContext","DataContext","InputData","props","context","handleChange","e","target","name","setData1","value","setData2","setData3","findIndex","index","indexInput","setIndexInput","validData","result","setResult","map","datas","data3","data2","data1","modifData"],"mappings":"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","sourcesContent":["import React, { useContext } from 'react'\n\nimport { DataContext } from '../Context/DataContext'\nimport '../App.css'\n\nconst InputData = (props) => {\n\n  const context = useContext(DataContext)\n\n  const handleChange = (e) => {\n    if (e.target.name === \"data1\") {\n      context.setData1(e.target.value)\n    } if (e.target.name === \"data2\") {\n      context.setData2(e.target.value)\n    } if (e.target.name === \"data3\") {\n      context.setData3(e.target.value)\n    }\n  }\n\n  const findIndex = () => {\n    if (props.index !== context.indexInput) {\n      context.setData1(\"\")\n      context.setData2(\"\")\n      context.setData3(\"\")\n    }\n    context.indexInput !== props.index && context.setIndexInput(props.index)\n  }\n\n  const validData = () => {\n    if (props.index === context.indexInput) {\n      if (context.result[context.indexInput]) {\n        context.setResult(context.result.map(datas => context.result[context.indexInput] === datas ? { ...datas, data3: context.data3, data2: context.data2, data1: context.data1 } : datas))\n      } else {\n        context.setResult([...context.result, { \"data3\": context.data3, \"data2\": context.data2, \"data1\": context.data1 }])\n      }\n    }\n    context.setData1(\"\")\n    context.setData2(\"\")\n    context.setData3(\"\")\n  }\n\n  const modifData = async () => {\n    context.setIndexInput(props.index)\n    if (context.result[context.indexInput]) {\n      context.setData1(context.result[props.index].data1)\n      context.setData2(context.result[props.index].data2)\n      context.setData3(context.result[props.index].data3)\n    }\n  }\n\n\n  return (\n    <div className=\"contain\">\n      <div className=\"separator\">\n        <p>poteau numéro {props.index + 1}: </p>\n        <div className=\"inputs\">\n          <div className=\"inputSolo\">\n            <label htmlFor=\"chamber\">numéro de chambre: </label>\n            <input id=\"chamber\" name=\"data1\" type=\"text\" placeholder=\"\" value={context.indexInput === props.index ? context.data1 : \"\"} onChange={handleChange} onClick={() => findIndex()} />\n          </div>\n          <div className=\"inputSolo\">\n            <label htmlFor=\"insee\">code INSEE: </label>\n            <input id=\"insee\" name=\"data2\" type=\"text\" placeholder=\"\" value={context.indexInput === props.index ? context.data2 : \"\"} onChange={handleChange} onClick={() => findIndex()} />\n          </div>\n          <div className=\"inputSolo\">\n            <label htmlFor=\"poteau\">numéro poteau: </label>\n            <input id=\"poteau\" name=\"data3\" type=\"text\" placeholder=\"\" value={context.indexInput === props.index ? context.data3 : \"\"} onChange={handleChange} onClick={() => findIndex()} />\n          </div>\n          <div className=\"saveResults\">\n            {context.result[props.index] &&\n              <div>\n                <p>données sauvegardées: </p>\n                <p>numéro de chambre: {context.result[props.index].data1}  </p>\n                <p>code INSEE: {context.result[props.index].data2}  </p>\n                <p>numéro poteau: {context.result[props.index].data3}</p>\n              </div>\n            }\n          </div>\n        </div>\n\n        <div className=\"buttons\">\n          <button onClick={() => validData()}>valider</button>\n          <button onClick={() => modifData()}>modifier</button>\n        </div>\n      </div>\n\n\n\n    </div>\n  )\n}\n\nexport default InputData\n"]},"metadata":{},"sourceType":"module"}