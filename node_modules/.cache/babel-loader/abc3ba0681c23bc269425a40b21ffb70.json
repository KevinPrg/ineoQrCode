{"ast":null,"code":"import _regeneratorRuntime from\"/home/psycho/Documents/ineoQrCode/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/psycho/Documents/ineoQrCode/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/psycho/Documents/ineoQrCode/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{useState,useContext}from'react';import QRCode from'qrcode.react';import InputData from'./InputData';import'../App.css';import{DataContext}from'../Context/DataContext';var QrCode=function QrCode(){var context=useContext(DataContext);var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showInputs=_useState2[0],setShowInputs=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),buttonGenerate=_useState4[0],setButtonGenerate=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),show=_useState6[0],setShow=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),numberInput=_useState8[0],setNumberInput=_useState8[1];var _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),mapGenerateInput=_useState10[0],setMapGenerateInput=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),qrValue=_useState12[0],setQrValue=_useState12[1];var generateInputs=[];var handleChange=function handleChange(e){setNumberInput(e.target.value);};var tables=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var i;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:generateInputs=[];for(i=0;i<numberInput;i++){generateInputs.push(/*#__PURE__*/_jsx(InputData,{index:i}));}setShowInputs(!showInputs);setMapGenerateInput(generateInputs);setButtonGenerate(true);case 5:case\"end\":return _context.stop();}}},_callee);}));return function tables(){return _ref.apply(this,arguments);};}();var result=function result(){setShow(!show);var finalResult=[];var increment=1;for(var i=0;i<context.result.length;i++){finalResult.push(\" [Codes \".concat(increment,\": \\n chambre: \").concat(context.result[i].data1,\" \\n INSEE: \").concat(context.result[i].data2,\" \\n poteau: \").concat(context.result[i].data3,\"] \\n\\n\"));increment+=1;}setQrValue(finalResult.join(''));};var downloadQR=function downloadQR(){var canvas=document.getElementById(\"qrCode\");var pngUrl=canvas.toDataURL(\"image/png\").replace(\"image/png\",\"image/octet-stream\");var downloadLink=document.createElement(\"a\");downloadLink.href=pngUrl;downloadLink.download=\"qrCode.png\";document.body.appendChild(downloadLink);downloadLink.click();document.body.removeChild(downloadLink);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"numberInputs\",children:[\"nombre de champs: \",/*#__PURE__*/_jsx(\"input\",{value:numberInput,onChange:handleChange}),\" \",/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return tables();},children:\"valider\"})]}),showInputs===true&&/*#__PURE__*/_jsx(\"div\",{children:mapGenerateInput.map(function(layoutInput,index){return/*#__PURE__*/_jsx(\"div\",{children:layoutInput},index);})}),/*#__PURE__*/_jsxs(\"div\",{className:\"generateCode\",children:[show&&/*#__PURE__*/_jsxs(\"div\",{className:\"code\",children:[/*#__PURE__*/_jsx(QRCode,{id:\"qrCode\",value:qrValue,size:500,level:\"M\"}),/*#__PURE__*/_jsx(\"button\",{className:\"download\",onClick:downloadQR,children:\" Telecharger ce QR code \"})]}),buttonGenerate&&/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return result();},children:\"g\\xE9n\\xE9rer le QR Code\"})]})]});};export default QrCode;","map":{"version":3,"sources":["/home/psycho/Documents/ineoQrCode/src/Components/QrCode.js"],"names":["React","useState","useContext","QRCode","InputData","DataContext","QrCode","context","showInputs","setShowInputs","buttonGenerate","setButtonGenerate","show","setShow","numberInput","setNumberInput","mapGenerateInput","setMapGenerateInput","qrValue","setQrValue","generateInputs","handleChange","e","target","value","tables","i","push","result","finalResult","increment","length","data1","data2","data3","join","downloadQR","canvas","document","getElementById","pngUrl","toDataURL","replace","downloadLink","createElement","href","download","body","appendChild","click","removeChild","map","layoutInput","index"],"mappings":"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","sourcesContent":["import React, { useState, useContext } from 'react';\nimport QRCode from 'qrcode.react';\n\nimport InputData from './InputData'\nimport '../App.css'\n\nimport { DataContext } from '../Context/DataContext'\n\nconst QrCode = () => {\n\n  const context = useContext(DataContext)\n\n  const [showInputs, setShowInputs] = useState(false)\n  const [buttonGenerate, setButtonGenerate] = useState(false)\n  const [show, setShow] = useState(false)\n  const [numberInput, setNumberInput] = useState(\"\")\n  const [mapGenerateInput, setMapGenerateInput] = useState(null)\n  const [qrValue, setQrValue] = useState(\"\")\n  let generateInputs = []\n\n  const handleChange = (e) => {\n    setNumberInput(e.target.value)\n  }\n\n  const tables = async () => {\n    generateInputs = []\n    for (let i = 0; i < numberInput; i++) {\n      generateInputs.push(<InputData index={i} />)\n    }\n    setShowInputs(!showInputs)\n    setMapGenerateInput(generateInputs)\n    setButtonGenerate(true)\n  }\n\n  const result = () => {\n    setShow(!show)\n    const finalResult = []\n    let increment = 1\n    for (let i = 0; i < context.result.length; i++) {\n      finalResult.push(` [Codes ${increment}: \\n chambre: ${context.result[i].data1} \\n INSEE: ${context.result[i].data2} \\n poteau: ${context.result[i].data3}] \\n\\n`)\n      increment += 1\n    }\n    setQrValue(finalResult.join(''))\n  }\n\n  const downloadQR = () => {\n    const canvas = document.getElementById(\"qrCode\");\n    const pngUrl = canvas\n      .toDataURL(\"image/png\")\n      .replace(\"image/png\", \"image/octet-stream\");\n    let downloadLink = document.createElement(\"a\");\n    downloadLink.href = pngUrl;\n    downloadLink.download = \"qrCode.png\";\n    document.body.appendChild(downloadLink);\n    downloadLink.click();\n    document.body.removeChild(downloadLink);\n  };\n\n  return (\n    <div>\n      <div className=\"numberInputs\">\n        nombre de champs: <input value={numberInput} onChange={handleChange} /> <button onClick={() => tables()} >valider</button>\n      </div>\n\n      {showInputs === true && <div>{mapGenerateInput.map((layoutInput, index) => { return (<div key={index}>{layoutInput}</div>) })}</div>}\n      <div className=\"generateCode\">\n        {show &&\n          <div className=\"code\">\n            <QRCode id=\"qrCode\" value={qrValue} size={500} level='M' />\n            <button className=\"download\" onClick={downloadQR}> Telecharger ce QR code </button>\n          </div>\n        }\n        {buttonGenerate && <button onClick={() => result()} >générer le QR Code</button>}\n\n      </div>\n    </div>\n  )\n}\n\nexport default QrCode\n"]},"metadata":{},"sourceType":"module"}