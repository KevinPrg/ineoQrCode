{"ast":null,"code":"import _regeneratorRuntime from\"/home/psycho/Documents/ineoQrCode/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/psycho/Documents/ineoQrCode/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _toConsumableArray from\"/home/psycho/Documents/ineoQrCode/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"/home/psycho/Documents/ineoQrCode/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{useContext}from'react';import{DataContext}from'../Context/DataContext';import'../App.css';var InputData=function InputData(props){var context=useContext(DataContext);var handleChange=function handleChange(e){if(e.target.name===\"data1\"){context.setData1(e.target.value);}if(e.target.name===\"data2\"){context.setData2(e.target.value);}if(e.target.name===\"data3\"){context.setData3(e.target.value);}};var findIndex=function findIndex(){if(props.index!==context.indexInput){context.setData1(\"\");context.setData2(\"\");context.setData3(\"\");}context.indexInput!==props.index&&context.setIndexInput(props.index);};var validData=function validData(){console.log(context.result.length,props.index);if(props.index===context.indexInput&&context.result.length===props.index){if(context.result[context.indexInput]){context.setResult(context.result.map(function(datas){return context.result[context.indexInput]===datas?_objectSpread(_objectSpread({},datas),{},{data3:context.data3,data2:context.data2,data1:context.data1}):datas;}));}else{context.setResult([].concat(_toConsumableArray(context.result),[{\"data3\":context.data3,\"data2\":context.data2,\"data1\":context.data1}]));}}context.setData1(\"\");context.setData2(\"\");context.setData3(\"\");};var modifData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:context.setIndexInput(props.index);if(context.result[context.indexInput]){context.setData1(context.result[props.index].data1);context.setData2(context.result[props.index].data2);context.setData3(context.result[props.index].data3);}case 2:case\"end\":return _context.stop();}}},_callee);}));return function modifData(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"contain\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"poteau num\\xE9ro \",props.index+1,\": \"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"separator\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"inputs\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"inputSolo\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"chamber\"+props.index,children:\"num\\xE9ro de chambre: \"}),/*#__PURE__*/_jsx(\"input\",{id:\"chamber\"+props.index,name:\"data1\",type:\"text\",placeholder:\"\",value:context.indexInput===props.index?context.data1:\"\",onChange:handleChange,onClick:function onClick(){return findIndex();}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"inputSolo\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"insee\"+props.index,children:\"code INSEE: \"}),/*#__PURE__*/_jsx(\"input\",{id:\"insee\"+props.index,name:\"data2\",type:\"text\",placeholder:\"\",value:context.indexInput===props.index?context.data2:\"\",onChange:handleChange,onClick:function onClick(){return findIndex();}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"inputSolo\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"poteau\"+props.index,children:\"num\\xE9ro poteau: \"}),/*#__PURE__*/_jsx(\"input\",{id:\"poteau\"+props.index,name:\"data3\",type:\"text\",placeholder:\"\",value:context.indexInput===props.index?context.data3:\"\",onChange:handleChange,onClick:function onClick(){return findIndex();}})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"buttons\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return validData();},children:\"valider\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return modifData();},children:\"modifier\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"saveResults\",children:context.result[props.index]&&/*#__PURE__*/_jsxs(\"div\",{className:\"results\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"donn\\xE9es sauvegard\\xE9es: \"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"num\\xE9ro de chambre: \",context.result[props.index].data1,\"  \"]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"code INSEE: \",context.result[props.index].data2,\"  \"]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"num\\xE9ro poteau: \",context.result[props.index].data3]})]})})]});};export default InputData;","map":{"version":3,"sources":["/home/psycho/Documents/ineoQrCode/src/Components/InputData.js"],"names":["React","useContext","DataContext","InputData","props","context","handleChange","e","target","name","setData1","value","setData2","setData3","findIndex","index","indexInput","setIndexInput","validData","console","log","result","length","setResult","map","datas","data3","data2","data1","modifData"],"mappings":"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","sourcesContent":["import React, { useContext } from 'react'\n\nimport { DataContext } from '../Context/DataContext'\nimport '../App.css'\n\nconst InputData = (props) => {\n\n  const context = useContext(DataContext)\n\n  const handleChange = (e) => {\n    if (e.target.name === \"data1\") {\n      context.setData1(e.target.value)\n    } if (e.target.name === \"data2\") {\n      context.setData2(e.target.value)\n    } if (e.target.name === \"data3\") {\n      context.setData3(e.target.value)\n    }\n  }\n\n  const findIndex = () => {\n    if (props.index !== context.indexInput) {\n      context.setData1(\"\")\n      context.setData2(\"\")\n      context.setData3(\"\")\n    }\n    context.indexInput !== props.index && context.setIndexInput(props.index)\n  }\n\n  const validData = () => {\n    console.log(context.result.length, props.index)\n    if (props.index === context.indexInput && context.result.length === props.index) {\n      if (context.result[context.indexInput]) {\n        context.setResult(context.result.map(datas => context.result[context.indexInput] === datas ? { ...datas, data3: context.data3, data2: context.data2, data1: context.data1 } : datas))\n      } else {\n        context.setResult([...context.result, { \"data3\": context.data3, \"data2\": context.data2, \"data1\": context.data1 }])\n      }\n    }\n    context.setData1(\"\")\n    context.setData2(\"\")\n    context.setData3(\"\")\n  }\n\n  const modifData = async () => {\n    context.setIndexInput(props.index)\n    if (context.result[context.indexInput]) {\n      context.setData1(context.result[props.index].data1)\n      context.setData2(context.result[props.index].data2)\n      context.setData3(context.result[props.index].data3)\n    }\n  }\n\n\n  return (\n    <div className=\"contain\">\n      <p>poteau numéro {props.index + 1}: </p>\n      <div className=\"separator\">\n\n        <div className=\"inputs\">\n          <div className=\"inputSolo\">\n            <label htmlFor={\"chamber\" + props.index}>numéro de chambre: </label>\n            <input id={\"chamber\" + props.index} name=\"data1\" type=\"text\" placeholder=\"\" value={context.indexInput === props.index ? context.data1 : \"\"} onChange={handleChange} onClick={() => findIndex()} />\n          </div>\n          <div className=\"inputSolo\">\n            <label htmlFor={\"insee\" + props.index}>code INSEE: </label>\n            <input id={\"insee\" + props.index} name=\"data2\" type=\"text\" placeholder=\"\" value={context.indexInput === props.index ? context.data2 : \"\"} onChange={handleChange} onClick={() => findIndex()} />\n          </div>\n          <div className=\"inputSolo\">\n            <label htmlFor={\"poteau\" + props.index}>numéro poteau: </label>\n            <input id={\"poteau\" + props.index} name=\"data3\" type=\"text\" placeholder=\"\" value={context.indexInput === props.index ? context.data3 : \"\"} onChange={handleChange} onClick={() => findIndex()} />\n          </div>\n        </div>\n        <div className=\"buttons\">\n          <button onClick={() => validData()}>valider</button>\n          <button onClick={() => modifData()}>modifier</button>\n        </div>\n      </div>\n      <div className=\"saveResults\">\n        {context.result[props.index] &&\n          <div className=\"results\">\n            <p>données sauvegardées: </p>\n            <p>numéro de chambre: {context.result[props.index].data1}  </p>\n            <p>code INSEE: {context.result[props.index].data2}  </p>\n            <p>numéro poteau: {context.result[props.index].data3}</p>\n          </div>\n        }\n      </div>\n\n\n    </div>\n  )\n}\n\nexport default InputData\n"]},"metadata":{},"sourceType":"module"}